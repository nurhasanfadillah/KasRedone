import{s as e,D as a,v as t,I as s,b as r,h as n,N as o,x as i,c as l,d as c,E as d,j as u,o as m,A as h,n as p,p as f,l as x,r as g,T as b,F as v,t as j,e as y,$ as k,u as N,w,G as C,y as D,B as S,C as I,H as R,J as T,P as E,K,_ as F,O as A,Q as M,R as P,S as _,W as L,f as $}from"./index-15274983.js";import"./router-262f9f98.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),O=e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),B=e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),H=e("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]),U=e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),V=e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),G=e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),q=e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),J="Switch",[W,Q]=a(J),[X,Z]=W(J),Y=t.forwardRef((e,a)=>{const{__scopeSwitch:l,name:c,checked:d,defaultChecked:u,required:m,disabled:h,value:p="on",onCheckedChange:f,form:x,...g}=e,[b,v]=t.useState(null),j=s(a,e=>v(e)),y=t.useRef(!1),k=!b||(x||!!b.closest("form")),[N=!1,w]=r({prop:d,defaultProp:u,onChange:f});return n.jsxs(X,{scope:l,checked:N,disabled:h,children:[n.jsx(o.button,{type:"button",role:"switch","aria-checked":N,"aria-required":m,"data-state":se(N),"data-disabled":h?"":void 0,disabled:h,value:p,...g,ref:j,onClick:i(e.onClick,e=>{w(e=>!e),k&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),k&&n.jsx(te,{control:b,bubbles:!y.current,name:c,value:p,checked:N,required:m,disabled:h,form:x,style:{transform:"translateX(-100%)"}})]})});
/**
* @license lucide-react v0.462.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/Y.displayName=J;const ee="SwitchThumb",ae=t.forwardRef((e,a)=>{const{__scopeSwitch:t,...s}=e,r=Z(ee,t);return n.jsx(o.span,{"data-state":se(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:a})});ae.displayName=ee;var te=e=>{const{control:a,checked:s,bubbles:r=!0,...o}=e,i=t.useRef(null),d=l(s),u=c(a);return t.useEffect(()=>{const e=i.current,a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set;if(d!==s&&t){const a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[d,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...o,tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function se(e){return e?"checked":"unchecked"}const re=Y,ne=ae,oe=t.forwardRef(({className:e,...a},t)=>n.jsx(re,{className:d("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:t,children:n.jsx(ne,{className:d("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));oe.displayName=re.displayName;const ie="horizontal",le=["horizontal","vertical"],ce=t.forwardRef((e,a)=>{const{decorative:t,orientation:s=ie,...r}=e,i=function(e){return le.includes(e)}(s)?s:ie,l=t?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return n.jsx(o.div,{"data-orientation":i,...l,...r,ref:a})});ce.displayName="Separator";const de=ce,ue=t.forwardRef(({className:e,orientation:a="horizontal",decorative:t=!0,...s},r)=>n.jsx(de,{ref:r,decorative:t,orientation:a,className:d("shrink-0 bg-border","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...s}));function me(...e){const a=e[0];if(1===e.length)return a;const s=()=>{const s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=s.reduce((a,{useScope:t,scopeName:s})=>({...a,...t(e)[`__scope${s}`]}),{});return t.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return s.scopeName=a.scopeName,s}ue.displayName=de.displayName;const he="rovingFocusGroup.onEntryFocus",pe={bubbles:!1,cancelable:!0},fe="RovingFocusGroup",[xe,ge,be]=u(fe),[ve,je]=function(e,a=[]){let s=[];const r=()=>{const a=s.map(e=>t.createContext(e));return function(s){const r=(null==s?void 0:s[e])||a;return t.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return r.scopeName=e,[function(a,r){const o=t.createContext(r),i=s.length;function l(a){const{scope:s,children:r,...l}=a,c=(null==s?void 0:s[e][i])||o,d=t.useMemo(()=>l,Object.values(l));return n.jsx(c.Provider,{value:d,children:r})}return s=[...s,r],l.displayName=`${a}Provider`,[l,function(s,n){const l=(null==n?void 0:n[e][i])||o,c=t.useContext(l);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${s}\` must be used within \`${a}\``)}]},me(r,...a)]}(fe,[be]),[ye,ke]=ve(fe),Ne=t.forwardRef((e,a)=>n.jsx(xe.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(xe.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(we,{...e,ref:a})})}));Ne.displayName=fe;var we=t.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:l,orientation:c,loop:d=!1,dir:u,currentTabStopId:p,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:x,onEntryFocus:g,preventScrollOnEntryFocus:b=!1,...v}=e,j=t.useRef(null),y=s(a,j),k=m(u),[N=null,w]=r({prop:p,defaultProp:f,onChange:x}),[C,D]=t.useState(!1),S=h(g),I=ge(l),R=t.useRef(!1),[T,E]=t.useState(0);return t.useEffect(()=>{const e=j.current;if(e)return e.addEventListener(he,S),()=>e.removeEventListener(he,S)},[S]),n.jsx(ye,{scope:l,orientation:c,dir:k,loop:d,currentTabStopId:N,onItemFocus:t.useCallback(e=>w(e),[w]),onItemShiftTab:t.useCallback(()=>D(!0),[]),onFocusableItemAdd:t.useCallback(()=>E(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>E(e=>e-1),[]),children:n.jsx(o.div,{tabIndex:C||0===T?-1:0,"data-orientation":c,...v,ref:y,style:{outline:"none",...e.style},onMouseDown:i(e.onMouseDown,()=>{R.current=!0}),onFocus:i(e.onFocus,e=>{const a=!R.current;if(e.target===e.currentTarget&&a&&!C){const a=new CustomEvent(he,pe);if(e.currentTarget.dispatchEvent(a),!a.defaultPrevented){const e=I().filter(e=>e.focusable);Ie([e.find(e=>e.active),e.find(e=>e.id===N),...e].filter(Boolean).map(e=>e.ref.current),b)}}R.current=!1}),onBlur:i(e.onBlur,()=>D(!1))})})}),Ce="RovingFocusGroupItem",De=t.forwardRef((e,a)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:l=!1,tabStopId:c,...d}=e,u=p(),m=c||u,h=ke(Ce,s),f=h.currentTabStopId===m,x=ge(s),{onFocusableItemAdd:g,onFocusableItemRemove:b}=h;return t.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),n.jsx(xe.ItemSlot,{scope:s,id:m,focusable:r,active:l,children:n.jsx(o.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...d,ref:a,onMouseDown:i(e.onMouseDown,e=>{r?h.onItemFocus(m):e.preventDefault()}),onFocus:i(e.onFocus,()=>h.onItemFocus(m)),onKeyDown:i(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;const a=function(e,a,t){const s=function(e,a){return"rtl"!==a?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,t);if(!("vertical"===a&&["ArrowLeft","ArrowRight"].includes(s)||"horizontal"===a&&["ArrowUp","ArrowDown"].includes(s)))return Se[s]}(e,h.orientation,h.dir);if(void 0!==a){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let t=x().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===a)t.reverse();else if("prev"===a||"next"===a){"prev"===a&&t.reverse();const s=t.indexOf(e.currentTarget);t=h.loop?function(e,a){return e.map((t,s)=>e[(a+s)%e.length])}(t,s+1):t.slice(s+1)}setTimeout(()=>Ie(t))}})})})});De.displayName=Ce;const Se={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ie(e,a=!1){const t=document.activeElement;for(const s of e)if(s===t||(s.focus({preventScroll:a}),document.activeElement!==t))return}const Re=Ne,Te=De,Ee="Tabs",[Ke,Fe]=a(Ee,[je]),Ae=je(),[Me,Pe]=Ke(Ee),_e=t.forwardRef((e,a)=>{const{__scopeTabs:t,value:s,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:u="automatic",...h}=e,f=m(d),[x,g]=r({prop:s,onChange:i,defaultProp:l});return n.jsx(Me,{scope:t,baseId:p(),value:x,onValueChange:g,orientation:c,dir:f,activationMode:u,children:n.jsx(o.div,{dir:f,"data-orientation":c,...h,ref:a})})});_e.displayName=Ee;const Le="TabsList",$e=t.forwardRef((e,a)=>{const{__scopeTabs:t,loop:s=!0,...r}=e,i=Pe(Le,t),l=Ae(t);return n.jsx(Re,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:s,children:n.jsx(o.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:a})})});$e.displayName=Le;const ze="TabsTrigger",Oe=t.forwardRef((e,a)=>{const{__scopeTabs:t,value:s,disabled:r=!1,...l}=e,c=Pe(ze,t),d=Ae(t),u=Ue(c.baseId,s),m=Ve(c.baseId,s),h=s===c.value;return n.jsx(Te,{asChild:!0,...d,focusable:!r,active:h,children:n.jsx(o.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...l,ref:a,onMouseDown:i(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(s)}),onKeyDown:i(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(s)}),onFocus:i(e.onFocus,()=>{const e="manual"!==c.activationMode;!h&&!r&&e&&c.onValueChange(s)})})})});Oe.displayName=ze;const Be="TabsContent",He=t.forwardRef((e,a)=>{const{__scopeTabs:s,value:r,forceMount:i,children:l,...c}=e,d=Pe(Be,s),u=Ue(d.baseId,r),m=Ve(d.baseId,r),h=r===d.value,p=t.useRef(h);return t.useEffect(()=>{const e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),n.jsx(f,{present:i||h,children:({present:t})=>n.jsx(o.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function Ue(e,a){return`${e}-trigger-${a}`}function Ve(e,a){return`${e}-content-${a}`}He.displayName=Be;const Ge=$e,qe=Oe,Je=He,We=_e,Qe=t.forwardRef(({className:e,...a},t)=>n.jsx(Ge,{ref:t,className:d("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));Qe.displayName=Ge.displayName;const Xe=t.forwardRef(({className:e,...a},t)=>n.jsx(qe,{ref:t,className:d("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));Xe.displayName=qe.displayName;const Ze=t.forwardRef(({className:e,...a},t)=>n.jsx(Je,{ref:t,className:d("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));Ze.displayName=Je.displayName;const Ye=()=>{const{getCategories:e,addCategory:a,removeCategory:s,isDefaultCategory:r}=b(),{toast:o}=g(),[i,l]=t.useState(""),[c,d]=t.useState(""),[u,m]=t.useState(!1),h=e=>{const t="income"===e?i:c;t.trim()?a(e,t)?(o({title:"Berhasil",description:`Kategori "${t}" berhasil ditambahkan`}),"income"===e?l(""):d("")):o({title:"Gagal",description:"Kategori sudah ada atau tidak valid",variant:"destructive"}):o({title:"Kesalahan",description:"Nama kategori tidak boleh kosong",variant:"destructive"})},p=(e,a)=>{const t=s(e,a);o(t?{title:"Berhasil",description:`Kategori "${a}" berhasil dihapus`}:{title:"Gagal",description:"Kategori default tidak dapat dihapus",variant:"destructive"})};return n.jsxs(A,{open:u,onOpenChange:m,children:[n.jsx(M,{asChild:!0,children:n.jsxs(y,{variant:"outline",className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[n.jsx(H,{className:"w-4 h-4 mr-3"}),"Kelola Kategori"]})}),n.jsxs(P,{className:"bg-card border-border max-w-md max-h-[80vh] overflow-y-auto",children:[n.jsx(_,{children:n.jsx(L,{className:"text-foreground",children:"Kelola Kategori"})}),n.jsxs(We,{defaultValue:"income",className:"w-full",children:[n.jsxs(Qe,{className:"grid w-full grid-cols-2",children:[n.jsx(Xe,{value:"income",children:"Pemasukan"}),n.jsx(Xe,{value:"expense",children:"Pengeluaran"})]}),n.jsxs(Ze,{value:"income",className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(N,{placeholder:"Tambah kategori pemasukan...",value:i,onChange:e=>l(e.target.value),onKeyPress:e=>"Enter"===e.key&&h("income"),className:"bg-input border-border text-foreground"}),n.jsx(y,{onClick:()=>h("income"),size:"sm",className:"bg-primary hover:bg-primary/90",children:n.jsx(k,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e("income").map(e=>n.jsx(v,{className:"p-3 bg-card border-border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-foreground text-sm",children:e}),r("income",e)&&n.jsx($,{variant:"secondary",className:"text-xs",children:"Default"})]}),!r("income",e)&&n.jsx(y,{variant:"ghost",size:"sm",onClick:()=>p("income",e),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:n.jsx(D,{className:"w-3 h-3"})})]})},e))})]}),n.jsxs(Ze,{value:"expense",className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(N,{placeholder:"Tambah kategori pengeluaran...",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&h("expense"),className:"bg-input border-border text-foreground"}),n.jsx(y,{onClick:()=>h("expense"),size:"sm",className:"bg-primary hover:bg-primary/90",children:n.jsx(k,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e("expense").map(e=>n.jsx(v,{className:"p-3 bg-card border-border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-foreground text-sm",children:e}),r("expense",e)&&n.jsx($,{variant:"secondary",className:"text-xs",children:"Default"})]}),!r("expense",e)&&n.jsx(y,{variant:"ghost",size:"sm",onClick:()=>p("expense",e),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:n.jsx(D,{className:"w-3 h-3"})})]})},e))})]})]})]})]})};const ea=()=>{const{transactions:e,getBalance:a,addTemplateData:s}=x(),{toast:r}=g(),{isInstallable:o,isInstalled:i,promptInstall:l}=function(){const[e,a]=t.useState(null),[s,r]=t.useState(!1);return t.useEffect(()=>{window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches?r(!0):r(!1);const e=e=>{e.preventDefault(),a(e)},t=()=>{r(!0),a(null)};return window.addEventListener("beforeinstallprompt",e),window.addEventListener("appinstalled",t),()=>{window.removeEventListener("beforeinstallprompt",e),window.removeEventListener("appinstalled",t)}},[]),{isInstallable:!!e,isInstalled:s,promptInstall:async()=>{if(!e)return;e.prompt();const t=await e.userChoice;return a(null),"accepted"===t.outcome}}}(),{toggleDefaultCategories:c,getUseDefaultsStatus:d}=b(),[u,m]=t.useState(!0),[h,p]=t.useState(d),f=t.useRef(null);return n.jsxs("div",{className:"min-h-screen bg-background pb-20 mobile-safe",children:[n.jsxs("div",{className:"px-6 pt-14 pb-6",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("img",{src:"/kasredone.png",alt:"KasRedone Logo",className:"h-8 w-auto"})}),n.jsx("h1",{className:"text-2xl font-bold text-foreground mb-6",children:"Profil"}),n.jsxs(v,{className:"p-6 bg-card border-border mb-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:n.jsx(j,{className:"w-8 h-8 text-primary"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pengguna KasKu"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length," transaksi tercatat"]})]})]}),n.jsx(ue,{className:"my-4"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-foreground",children:(A=a(),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(A))}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Saldo Saat Ini"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-bold text-primary",children:e.length}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Transaksi"})]})]})]})]}),n.jsxs("div",{className:"px-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[n.jsx(U,{className:"w-5 h-5"}),"Pengaturan"]}),n.jsxs(v,{className:"bg-card border-border",children:[n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(z,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:"Notifikasi"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pengingat transaksi harian"})]})]}),n.jsx(oe,{checked:u,onCheckedChange:m})]}),n.jsx(ue,{}),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(G,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:"Aplikasi PWA"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:i?"Aplikasi sudah terpasang":"Install aplikasi di perangkat Anda"})]})]}),o&&!i&&n.jsx(y,{variant:"outline",size:"sm",onClick:l,children:"Install"})]})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Kelola Data"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(v,{className:"p-4 bg-card border-border",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs(y,{variant:"outline",onClick:()=>{const a=JSON.stringify(e,null,2),t=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download=`kasku-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),r({title:"Berhasil",description:"Data berhasil diekspor"})},className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[n.jsx(O,{className:"w-4 h-4 mr-3"}),"Ekspor Data (JSON)"]}),n.jsxs(y,{variant:"outline",onClick:()=>{let a="Tanggal,Jenis,Kategori,Deskripsi,Jumlah\n";e.forEach(e=>{const t=new Date(e.date).toLocaleDateString("id-ID"),s="income"===e.type?"Pemasukan":"Pengeluaran",r=e.description.replace(/"/g,'""');a+=`"${t}","${s}","${e.category}","${r}",${e.amount}\n`});const t=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download=`kasku-transaksi-${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s),r({title:"Berhasil",description:"Data CSV berhasil diekspor"})},className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[n.jsx(B,{className:"w-4 h-4 mr-3"}),"Ekspor Data (CSV)"]})]})}),n.jsx(v,{className:"p-4 bg-card border-border",children:n.jsx(Ye,{})}),n.jsx(v,{className:"bg-card border-border",children:n.jsxs("div",{className:"p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(U,{className:"w-5 h-5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:"Kategori Default"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h?"Aktif":"Nonaktif"})]})]}),n.jsx(oe,{checked:h,onCheckedChange:e=>{p(e),c(e),r({title:e?"Kategori Default Diaktifkan":"Kategori Default Dinonaktifkan",description:e?"Kategori default akan ditampilkan":"Kategori default tidak akan ditampilkan"})}})]})}),n.jsx(v,{className:"p-4 bg-card border-border",children:n.jsxs(y,{variant:"outline",onClick:()=>{s(),r({title:"Data Template Ditambahkan",description:"Data transaksi contoh telah ditambahkan"})},className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[n.jsx(k,{className:"w-4 h-4 mr-3"}),"Tambah Data Template"]})}),n.jsxs(v,{className:"p-4 bg-card border-border",children:[n.jsxs(y,{variant:"outline",onClick:()=>{var e;null==(e=f.current)||e.click()},className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[n.jsx(q,{className:"w-4 h-4 mr-3"}),"Import Data"]}),n.jsx(N,{ref:f,type:"file",accept:".json",onChange:e=>{var a;const t=null==(a=e.target.files)?void 0:a[0];if(!t)return;const s=new FileReader;s.onload=e=>{var a;try{const t=null==(a=e.target)?void 0:a.result,s=JSON.parse(t);if(!Array.isArray(s))throw new Error("Format data tidak valid");const n=s.filter(e=>e.id&&e.type&&"number"==typeof e.amount&&e.description&&e.category&&e.date);if(0===n.length)throw new Error("Tidak ada transaksi valid ditemukan");const o=n.map(e=>({...e,date:new Date(e.date)}));localStorage.setItem("kasku-transactions",JSON.stringify(o)),r({title:"Berhasil",description:`${n.length} transaksi berhasil diimport`}),setTimeout(()=>window.location.reload(),1e3)}catch{r({title:"Gagal Import",description:"Format file tidak valid atau file rusak",variant:"destructive"})}},s.readAsText(t),e.target.value=""},className:"hidden"})]}),n.jsx(v,{className:"p-4 bg-card border-border",children:n.jsxs(w,{children:[n.jsx(C,{asChild:!0,children:n.jsxs(y,{variant:"outline",className:"w-full justify-start text-destructive border-destructive/20 hover:bg-destructive/10",children:[n.jsx(D,{className:"w-4 h-4 mr-3"}),"Hapus Semua Data"]})}),n.jsxs(S,{className:"bg-card border-border",children:[n.jsxs(I,{children:[n.jsx(R,{className:"text-foreground",children:"Hapus Semua Data"}),n.jsx(T,{className:"text-muted-foreground",children:"Apakah Anda yakin ingin menghapus semua data transaksi? Aksi ini tidak dapat dibatalkan. Pastikan Anda sudah mengekspor data jika diperlukan."})]}),n.jsxs(E,{children:[n.jsx(K,{className:"bg-secondary text-secondary-foreground hover:bg-secondary/90",children:"Batal"}),n.jsx(F,{onClick:()=>{localStorage.removeItem("kasredone-transactions"),localStorage.removeItem("kasredone-categories"),window.location.reload()},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus Semua"})]})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Tentang Aplikasi"}),n.jsxs(v,{className:"p-4 bg-card border-border",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx(V,{className:"w-5 h-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-foreground",children:"KasKu v1.0"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Pengelola keuangan pribadi modern"})]})]}),n.jsx(ue,{className:"my-3"}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Data Anda tersimpan lokal di perangkat dan tidak dikirim ke server manapun."})]})]})]})]});var A};export{ea as Profile};
