import{c as E,r as n,b as ae,d as W,j as e,e as se,P as T,f as S,g as Me,h as Ke,i as F,k as Oe,l as re,m as ne,n as Le,o as Be,p as oe,q as ie,D as Ge,s as $e,B as I,t as Ue,v as ze,w as He,I as $,x as U,C as y,a as Z,y as z,u as Ve,U as qe,A as Je,z as We,E as Ye,F as Xe,G as Qe,H as Ze,J as et,K as tt,L as at}from"./index-CT600QVf.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=E("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=E("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=E("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=E("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=E("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=E("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=E("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var Y="Switch",[lt,Lt]=se(Y),[dt,ut]=lt(Y),ce=n.forwardRef((t,s)=>{const{__scopeSwitch:r,name:a,checked:i,defaultChecked:l,required:o,disabled:d,value:m="on",onCheckedChange:f,form:x,...u}=t,[h,c]=n.useState(null),p=ae(s,C=>c(C)),v=n.useRef(!1),w=h?x||!!h.closest("form"):!0,[b=!1,N]=W({prop:i,defaultProp:l,onChange:f});return e.jsxs(dt,{scope:r,checked:b,disabled:d,children:[e.jsx(T.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":ue(b),"data-disabled":d?"":void 0,disabled:d,value:m,...u,ref:p,onClick:S(t.onClick,C=>{N(_=>!_),w&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),w&&e.jsx(mt,{control:h,bubbles:!v.current,name:a,value:m,checked:b,required:o,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});ce.displayName=Y;var le="SwitchThumb",de=n.forwardRef((t,s)=>{const{__scopeSwitch:r,...a}=t,i=ut(le,r);return e.jsx(T.span,{"data-state":ue(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s})});de.displayName=le;var mt=t=>{const{control:s,checked:r,bubbles:a=!0,...i}=t,l=n.useRef(null),o=Me(r),d=Ke(s);return n.useEffect(()=>{const m=l.current,f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&u){const h=new Event("click",{bubbles:a});u.call(m,r),m.dispatchEvent(h)}},[o,r,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ue(t){return t?"checked":"unchecked"}var me=ce,pt=de;const H=n.forwardRef(({className:t,...s},r)=>e.jsx(me,{className:F("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:r,children:e.jsx(pt,{className:F("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));H.displayName=me.displayName;var ft="Separator",te="horizontal",ht=["horizontal","vertical"],pe=n.forwardRef((t,s)=>{const{decorative:r,orientation:a=te,...i}=t,l=xt(a)?a:te,d=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(T.div,{"data-orientation":l,...d,...i,ref:s})});pe.displayName=ft;function xt(t){return ht.includes(t)}var fe=pe;const O=n.forwardRef(({className:t,orientation:s="horizontal",decorative:r=!0,...a},i)=>e.jsx(fe,{ref:i,decorative:r,orientation:s,className:F("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));O.displayName=fe.displayName;function gt(t,s=[]){let r=[];function a(l,o){const d=n.createContext(o),m=r.length;r=[...r,o];function f(u){const{scope:h,children:c,...p}=u,v=h?.[t][m]||d,w=n.useMemo(()=>p,Object.values(p));return e.jsx(v.Provider,{value:w,children:c})}function x(u,h){const c=h?.[t][m]||d,p=n.useContext(c);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${l}\``)}return f.displayName=l+"Provider",[f,x]}const i=()=>{const l=r.map(o=>n.createContext(o));return function(d){const m=d?.[t]||l;return n.useMemo(()=>({[`__scope${t}`]:{...d,[t]:m}}),[d,m])}};return i.scopeName=t,[a,vt(i,...s)]}function vt(...t){const s=t[0];if(t.length===1)return s;const r=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const o=a.reduce((d,{useScope:m,scopeName:f})=>{const u=m(l)[`__scope${f}`];return{...d,...u}},{});return n.useMemo(()=>({[`__scope${s.scopeName}`]:o}),[o])}};return r.scopeName=s.scopeName,r}var G="rovingFocusGroup.onEntryFocus",bt={bubbles:!1,cancelable:!0},L="RovingFocusGroup",[V,he,jt]=Oe(L),[Nt,xe]=gt(L,[jt]),[kt,yt]=Nt(L),ge=n.forwardRef((t,s)=>e.jsx(V.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(V.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(wt,{...t,ref:s})})}));ge.displayName=L;var wt=n.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:x=!1,...u}=t,h=n.useRef(null),c=ae(s,h),p=ne(l),[v=null,w]=W({prop:o,defaultProp:d,onChange:m}),[b,N]=n.useState(!1),C=Le(f),_=he(r),j=n.useRef(!1),[P,D]=n.useState(0);return n.useEffect(()=>{const g=h.current;if(g)return g.addEventListener(G,C),()=>g.removeEventListener(G,C)},[C]),e.jsx(kt,{scope:r,orientation:a,dir:p,loop:i,currentTabStopId:v,onItemFocus:n.useCallback(g=>w(g),[w]),onItemShiftTab:n.useCallback(()=>N(!0),[]),onFocusableItemAdd:n.useCallback(()=>D(g=>g+1),[]),onFocusableItemRemove:n.useCallback(()=>D(g=>g-1),[]),children:e.jsx(T.div,{tabIndex:b||P===0?-1:0,"data-orientation":a,...u,ref:c,style:{outline:"none",...t.style},onMouseDown:S(t.onMouseDown,()=>{j.current=!0}),onFocus:S(t.onFocus,g=>{const K=!j.current;if(g.target===g.currentTarget&&K&&!b){const M=new CustomEvent(G,bt);if(g.currentTarget.dispatchEvent(M),!M.defaultPrevented){const R=_().filter(A=>A.focusable),B=R.find(A=>A.active),k=R.find(A=>A.id===v),_e=[B,k,...R].filter(Boolean).map(A=>A.ref.current);je(_e,x)}}j.current=!1}),onBlur:S(t.onBlur,()=>N(!1))})})}),ve="RovingFocusGroupItem",be=n.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:l,...o}=t,d=re(),m=l||d,f=yt(ve,r),x=f.currentTabStopId===m,u=he(r),{onFocusableItemAdd:h,onFocusableItemRemove:c}=f;return n.useEffect(()=>{if(a)return h(),()=>c()},[a,h,c]),e.jsx(V.ItemSlot,{scope:r,id:m,focusable:a,active:i,children:e.jsx(T.span,{tabIndex:x?0:-1,"data-orientation":f.orientation,...o,ref:s,onMouseDown:S(t.onMouseDown,p=>{a?f.onItemFocus(m):p.preventDefault()}),onFocus:S(t.onFocus,()=>f.onItemFocus(m)),onKeyDown:S(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){f.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const v=St(p,f.orientation,f.dir);if(v!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let b=u().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const N=b.indexOf(p.currentTarget);b=f.loop?Tt(b,N+1):b.slice(N+1)}setTimeout(()=>je(b))}})})})});be.displayName=ve;var Ct={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function It(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function St(t,s,r){const a=It(t.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Ct[a]}function je(t,s=!1){const r=document.activeElement;for(const a of t)if(a===r||(a.focus({preventScroll:s}),document.activeElement!==r))return}function Tt(t,s){return t.map((r,a)=>t[(s+a)%t.length])}var Dt=ge,Rt=be,X="Tabs",[At,Bt]=se(X,[xe]),Ne=xe(),[Et,Q]=At(X),ke=n.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,onValueChange:i,defaultValue:l,orientation:o="horizontal",dir:d,activationMode:m="automatic",...f}=t,x=ne(d),[u,h]=W({prop:a,onChange:i,defaultProp:l});return e.jsx(Et,{scope:r,baseId:re(),value:u,onValueChange:h,orientation:o,dir:x,activationMode:m,children:e.jsx(T.div,{dir:x,"data-orientation":o,...f,ref:s})})});ke.displayName=X;var ye="TabsList",we=n.forwardRef((t,s)=>{const{__scopeTabs:r,loop:a=!0,...i}=t,l=Q(ye,r),o=Ne(r);return e.jsx(Dt,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(T.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:s})})});we.displayName=ye;var Ce="TabsTrigger",Ie=n.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,disabled:i=!1,...l}=t,o=Q(Ce,r),d=Ne(r),m=De(o.baseId,a),f=Re(o.baseId,a),x=a===o.value;return e.jsx(Rt,{asChild:!0,...d,focusable:!i,active:x,children:e.jsx(T.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":f,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:s,onMouseDown:S(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(a):u.preventDefault()}),onKeyDown:S(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(a)}),onFocus:S(t.onFocus,()=>{const u=o.activationMode!=="manual";!x&&!i&&u&&o.onValueChange(a)})})})});Ie.displayName=Ce;var Se="TabsContent",Te=n.forwardRef((t,s)=>{const{__scopeTabs:r,value:a,forceMount:i,children:l,...o}=t,d=Q(Se,r),m=De(d.baseId,a),f=Re(d.baseId,a),x=a===d.value,u=n.useRef(x);return n.useEffect(()=>{const h=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(Be,{present:i||x,children:({present:h})=>e.jsx(T.div,{"data-state":x?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!h,id:f,tabIndex:0,...o,ref:s,style:{...t.style,animationDuration:u.current?"0s":void 0},children:h&&l})})});Te.displayName=Se;function De(t,s){return`${t}-trigger-${s}`}function Re(t,s){return`${t}-content-${s}`}var Pt=ke,Ae=we,Ee=Ie,Pe=Te;const Ft=Pt,Fe=n.forwardRef(({className:t,...s},r)=>e.jsx(Ae,{ref:r,className:F("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s}));Fe.displayName=Ae.displayName;const q=n.forwardRef(({className:t,...s},r)=>e.jsx(Ee,{ref:r,className:F("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s}));q.displayName=Ee.displayName;const J=n.forwardRef(({className:t,...s},r)=>e.jsx(Pe,{ref:r,className:F("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));J.displayName=Pe.displayName;const _t=()=>{const{getCategories:t,addCategory:s,removeCategory:r,isDefaultCategory:a}=oe(),{toast:i}=ie(),[l,o]=n.useState(""),[d,m]=n.useState(""),[f,x]=n.useState(!1),u=c=>{const p=c==="income"?l:d;if(!p.trim()){i({title:"Kesalahan",description:"Nama kategori tidak boleh kosong",variant:"destructive"});return}s(c,p)?(i({title:"Berhasil",description:`Kategori "${p}" berhasil ditambahkan`}),c==="income"?o(""):m("")):i({title:"Gagal",description:"Kategori sudah ada atau tidak valid",variant:"destructive"})},h=(c,p)=>{const v=r(c,p);i(v?{title:"Berhasil",description:`Kategori "${p}" berhasil dihapus`}:{title:"Gagal",description:"Kategori default tidak dapat dihapus",variant:"destructive"})};return e.jsxs(Ge,{open:f,onOpenChange:x,children:[e.jsx($e,{asChild:!0,children:e.jsxs(I,{variant:"outline",className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[e.jsx(nt,{className:"w-4 h-4 mr-3"}),"Kelola Kategori"]})}),e.jsxs(Ue,{className:"bg-card border-border max-w-md max-h-[80vh] overflow-y-auto",children:[e.jsx(ze,{children:e.jsx(He,{className:"text-foreground",children:"Kelola Kategori"})}),e.jsxs(Ft,{defaultValue:"income",className:"w-full",children:[e.jsxs(Fe,{className:"grid w-full grid-cols-2",children:[e.jsx(q,{value:"income",children:"Pemasukan"}),e.jsx(q,{value:"expense",children:"Pengeluaran"})]}),e.jsxs(J,{value:"income",className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{placeholder:"Tambah kategori pemasukan...",value:l,onChange:c=>o(c.target.value),onKeyPress:c=>c.key==="Enter"&&u("income"),className:"bg-input border-border text-foreground"}),e.jsx(I,{onClick:()=>u("income"),size:"sm",className:"bg-primary hover:bg-primary/90",children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t("income").map(c=>e.jsx(y,{className:"p-3 bg-card border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-foreground text-sm",children:c}),a("income",c)&&e.jsx(Z,{variant:"secondary",className:"text-xs",children:"Default"})]}),!a("income",c)&&e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>h("income",c),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:e.jsx(z,{className:"w-3 h-3"})})]})},c))})]}),e.jsxs(J,{value:"expense",className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{placeholder:"Tambah kategori pengeluaran...",value:d,onChange:c=>m(c.target.value),onKeyPress:c=>c.key==="Enter"&&u("expense"),className:"bg-input border-border text-foreground"}),e.jsx(I,{onClick:()=>u("expense"),size:"sm",className:"bg-primary hover:bg-primary/90",children:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:t("expense").map(c=>e.jsx(y,{className:"p-3 bg-card border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-foreground text-sm",children:c}),a("expense",c)&&e.jsx(Z,{variant:"secondary",className:"text-xs",children:"Default"})]}),!a("expense",c)&&e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>h("expense",c),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:e.jsx(z,{className:"w-3 h-3"})})]})},c))})]})]})]})]})};function Mt(){const[t,s]=n.useState(null),[r,a]=n.useState(!1);return n.useEffect(()=>{(()=>{if(window.navigator.standalone){a(!0);return}if(window.matchMedia("(display-mode: standalone)").matches){a(!0);return}a(!1)})();const o=m=>{m.preventDefault(),s(m)},d=()=>{a(!0),s(null)};return window.addEventListener("beforeinstallprompt",o),window.addEventListener("appinstalled",d),()=>{window.removeEventListener("beforeinstallprompt",o),window.removeEventListener("appinstalled",d)}},[]),{isInstallable:!!t,isInstalled:r,promptInstall:async()=>{if(!t)return;t.prompt();const l=await t.userChoice;return s(null),l.outcome==="accepted"}}}const Gt=()=>{const{transactions:t,getBalance:s,addTemplateData:r}=Ve(),{toast:a}=ie(),{isInstallable:i,isInstalled:l,promptInstall:o}=Mt(),{toggleDefaultCategories:d,getUseDefaultsStatus:m}=oe(),[f,x]=n.useState(!0),[u,h]=n.useState(m),c=n.useRef(null),p=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(j),v=()=>{localStorage.removeItem("kasku-transactions"),localStorage.removeItem("kasku-categories"),window.location.reload()},w=j=>{h(j),d(j),a({title:j?"Kategori Default Diaktifkan":"Kategori Default Dinonaktifkan",description:j?"Kategori default akan ditampilkan":"Kategori default tidak akan ditampilkan"})},b=()=>{r(),a({title:"Data Template Ditambahkan",description:"Data transaksi contoh telah ditambahkan"})},N=()=>{const j=JSON.stringify(t,null,2),P=new Blob([j],{type:"application/json"}),D=URL.createObjectURL(P),g=document.createElement("a");g.href=D,g.download=`kasku-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(D),a({title:"Berhasil",description:"Data berhasil diekspor"})},C=()=>{c.current?.click()},_=j=>{const P=j.target.files?.[0];if(!P)return;const D=new FileReader;D.onload=g=>{try{const K=g.target?.result,M=JSON.parse(K);if(!Array.isArray(M))throw new Error("Format data tidak valid");const R=M.filter(k=>k.id&&k.type&&typeof k.amount=="number"&&k.description&&k.category&&k.date);if(R.length===0)throw new Error("Tidak ada transaksi valid ditemukan");const B=R.map(k=>({...k,date:new Date(k.date)}));localStorage.setItem("kasku-transactions",JSON.stringify(B)),a({title:"Berhasil",description:`${R.length} transaksi berhasil diimport`}),setTimeout(()=>window.location.reload(),1e3)}catch{a({title:"Gagal Import",description:"Format file tidak valid atau file rusak",variant:"destructive"})}},D.readAsText(P),j.target.value=""};return e.jsxs("div",{className:"min-h-screen bg-background pb-20 mobile-safe",children:[e.jsxs("div",{className:"px-6 pt-14 pb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-6",children:"Profil"}),e.jsxs(y,{className:"p-6 bg-card border-border mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Pengguna KasKu"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," transaksi tercatat"]})]})]}),e.jsx(O,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-foreground",children:p(s())}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Saldo Saat Ini"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold text-primary",children:t.length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Transaksi"})]})]})]})]}),e.jsxs("div",{className:"px-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5"}),"Pengaturan"]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(st,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Notifikasi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pengingat transaksi harian"})]})]}),e.jsx(H,{checked:f,onCheckedChange:x})]}),e.jsx(O,{}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Aplikasi PWA"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l?"Aplikasi sudah terpasang":"Install aplikasi di perangkat Anda"})]})]}),i&&!l&&e.jsx(I,{variant:"outline",size:"sm",onClick:o,children:"Install"})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Kelola Data"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(y,{className:"p-4 bg-card border-border",children:e.jsxs(I,{variant:"outline",onClick:N,className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[e.jsx(rt,{className:"w-4 h-4 mr-3"}),"Ekspor Data"]})}),e.jsx(y,{className:"p-4 bg-card border-border",children:e.jsx(_t,{})}),e.jsx(y,{className:"bg-card border-border",children:e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"Kategori Default"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:u?"Aktif":"Nonaktif"})]})]}),e.jsx(H,{checked:u,onCheckedChange:w})]})}),e.jsx(y,{className:"p-4 bg-card border-border",children:e.jsxs(I,{variant:"outline",onClick:b,className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[e.jsx(U,{className:"w-4 h-4 mr-3"}),"Tambah Data Template"]})}),e.jsxs(y,{className:"p-4 bg-card border-border",children:[e.jsxs(I,{variant:"outline",onClick:C,className:"w-full justify-start bg-card text-card-foreground hover:bg-accent",children:[e.jsx(ct,{className:"w-4 h-4 mr-3"}),"Import Data"]}),e.jsx($,{ref:c,type:"file",accept:".json",onChange:_,className:"hidden"})]}),e.jsx(y,{className:"p-4 bg-card border-border",children:e.jsxs(Je,{children:[e.jsx(We,{asChild:!0,children:e.jsxs(I,{variant:"outline",className:"w-full justify-start text-destructive border-destructive/20 hover:bg-destructive/10",children:[e.jsx(z,{className:"w-4 h-4 mr-3"}),"Hapus Semua Data"]})}),e.jsxs(Ye,{className:"bg-card border-border",children:[e.jsxs(Xe,{children:[e.jsx(Qe,{className:"text-foreground",children:"Hapus Semua Data"}),e.jsx(Ze,{className:"text-muted-foreground",children:"Apakah Anda yakin ingin menghapus semua data transaksi? Aksi ini tidak dapat dibatalkan. Pastikan Anda sudah mengekspor data jika diperlukan."})]}),e.jsxs(et,{children:[e.jsx(tt,{className:"bg-secondary text-secondary-foreground hover:bg-secondary/90",children:"Batal"}),e.jsx(at,{onClick:v,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus Semua"})]})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Tentang Aplikasi"}),e.jsxs(y,{className:"p-4 bg-card border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(ot,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:"KasKu v1.0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pengelola keuangan pribadi modern"})]})]}),e.jsx(O,{className:"my-3"}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Data Anda tersimpan lokal di perangkat dan tidak dikirim ke server manapun."})]})]})]})]})};export{Gt as Profile};
